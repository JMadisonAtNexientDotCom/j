<!DOCTYPE html> <!-- Numbers below mark 80 characters -->
<!--5678901234567890123456789012345678901234567890123456789012345678901234567-->
<html lang="en-US">
    <head>
        
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
				
<!-- for async spinners. THEY WORK! -->
<script src="../jsLib/node_modules/angular-spinners/src/spinner-service.js"></script>
<script src="../jsLib/node_modules/angular-spinners/src/spinner-directive.js"></script>
<script src="../jsLib/node_modules/angular-spinners/dist/angular-spinners.js"></script>

<!-- host jquery so $ make sense? I think. -->
<!-- we probably don't need this version of Jquery since we are using another.
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
-->

<!-- BEFORE BOOTSTRAP INCLUDE: Bootstrap requiers JQuery Library.        -->
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<!-- Bootstrap: .js and .css respectively.                               -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" ></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

<!-- Angular Materials Project. Makes UI asthetically pleasing. -->
<!-- MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM -->
<!-- Angular Material Dependencies -->
<!-- include: angular.min.js -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>

<!-- Angular Material Javascript now available via Google CDN; version 0.10 used here -->
<script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"></script>

<!-- Get some scroll bar action up in here! -->
<script src="../jsLib/git_repo_3rd_party/ng_scrollable/ng-scrollable.min.js"></script>

        <!-- spinner animation for waiting after pressing button that -->
<!-- results in an asynchronous call. AKA: Wait for something to load and -->
<!-- let user know the UI is still responsive. -->
<LINK REL=StyleSheet HREF="../jsLib/css/components/loading_spinner.css" TYPE="text/css">

<!-- Angular Material CSS now available via Google CDN; version 0.10 used here -->
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css">
<!-- MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM -->

<!-- style stuff for scrollbars! -->
<link rel="stylesheet" href="../jsLib/git_repo_3rd_party/ng_scrollable/ng-scrollable.min.css">

<!-- enable centering. -->
 <link href="../jsLib/css/layout/vertcen.css" rel="stylesheet">
 <link href="../jsLib/css/layout/horcen.css" rel="stylesheet">
 <link href="../jsLib/css/layout/bs_docs_example.css" rel="stylesheet">
 <link href="../jsLib/css/aesthetics/roundeddivs.css" rel="stylesheet">
		
        <title>Ninja Sign Up Form</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">						
    </head>
<body>

<div data-ng-app="myApp" data-ng-controller="myCtrl" data-ng-init="VI();" >
 
  <img src="../jsLib/graphics/NexLogoCenteredFaded.svg" >
  
  <!-- Vertically + horizontally centered dialog -->
  <div class="horcen_parent" > <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
  <div class="horcen_child"  > <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
  <div class="vertcen_parent"> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
  <div class="vertcen_child" > <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
    
    <div id="PACK_OF_TWO" style="width:500px;margin-left:-250px;">
    
      <div id="roundeddivs_wireframe" style="width:200px;float:left;">

        <!-- The table with title at head of container. -->
        <div id="roundeddivs_headertab" align="center">
          <h2 style="color:#fff">Add Ninja:</h2>
        </div>

        <!-- F is for FORM FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF -->
        <!-- FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF -->
        <form name="myForm">
        <p>New Ninja Registration:</p>
        <p>
          Name : <input type="text" name="iName"  ng-model="nName" 
                        placeholder="Enter name here" style="width:100%;" >
        </p>

        <!-- using number type is not what I want for phone numbers. It gives me a spinner! -->
        <p>Phone: <input type="text" 
                         name="iPhone" 
                         ng-model="nPhone" 
                         style="width:100%;"    
                         ng-required="number"
                         ng-minlength="3"
                         ng-maxlength="13"
                         placeholder="##########">
            <span class="error" ng-show="myForm.iPhone.$error.minlength">
              Too short!
            </span>
            <span class="error" ng-show="myForm.iPhone.$error.maxlength">
              Too long!
            </span>
        </p>
        <p>
           Email: <input type="text" name="iEmail" ng-model="nEmail" 
           placeholder="Required@Email.com" style="width:100%;" >
        </p>

        <p>Website / Portfolio / Resume URL: </p>
        <p><input type="text" name="iPortfolio" ng-model="nPortfolio" placeholder="www.Zombo.com" style="width:100%;" ></p>
        <button data-ng-click="onButtonClicked()" style="width:100%;" >REGISTER NINJA</button>

        <!--  <textarea readonly>{{apiCallUsed}}</textarea> -->
        </form>
        <!-- FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF -->
        
        <!-- quick test to make sure we have relative .css URL correct. -->
        <spinner name="html5spinner">  
          <div class="overlay"></div>
          <div class="spinner">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
          </div>
          <div class="please-wait">Test of loading spinner...</div>
        </spinner> 
      </div> <!-- SIGN UP FORM DIV ABOVE -->
    
    
      <div id="roundeddivs_wireframe" ng-show="has_a_ninja_been_made"
      style="width:300px;float:right;border-color:#FF8800;">

        <!-- The table with title at head of container. -->
        <div id="roundeddivs_headertab" align="center" style="background:#FF8800;">
          <h2 style="color:#fff">Just Made:</h2>
        </div>

        <!-- F is for FORM FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF -->
        <!-- FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF -->
        <form name="myForm">
        
          <p>Name : <b>{{prev_ninja.name}}</b> </p>

        <!-- using number type is not what I want for phone numbers. It gives me a spinner! -->
        <p>Phone: <b>{{prev_ninja.phone}}</b> </p>
        <p>Email: <b>{{prev_ninja.email}}</b> </p>

        <p>Website / Portfolio / Resume URL: </p>
        <p><b>{{prev_ninja.portfolio_url}}</b></p>
        
        <p><i>You can make more, or:</i></p>
        <button data-ng-click="goto_home()" 
        style="width:100%;" >
          GOTO ADMIN HOME
        </button>

        <!--  <textarea readonly>{{apiCallUsed}}</textarea> -->
        </form>
        <!-- FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF -->
      </div> <!-- JUST MADE DIV -->
    
    </div> <!-- PACK_OF_TWO -->
    
  </div> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
  </div> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
  </div> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
  </div> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
</div> <!-- APP::END -->

<script>
//sample app declaration: 
//<div ng-app="myApp" ng-controller="myCtrl">
//sample input binded to firstName: 
//<input type="text" ng-model="firstName"><br>

var app = angular.module('myApp', ['angularSpinners']);
app.controller('myCtrl', function($scope, $http, $window, spinnerService) {
    

    //set function reference:
    $scope.onButtonClicked = onRegisterButtonClick;
    
    $scope.VI = function(){
      $scope.has_a_ninja_been_made=false;
      $scope.apiCallUsed='ONE';
      $scope.prev_ninja = {};
      $scope.prev_ninja.name = "MASTER SPLINTER";
      $scope.prev_ninja.email= "NINJA@EMAIL.COM";
      $scope.prev_ninja.phone= "555-555-555";
      $scope.prev_ninja.portfolio_url = "ENTER_THE_NINJA.COM";
   };//FUNC::END

    function onRegisterButtonClick(){
        spinnerService.show('html5spinner');
        
        //Build query string using J-QUERY:
        //SOURCE: http://stackoverflow.com/questions/316781/
        //                             how-to-build-query-string-with-javascript
        qs = "";
        qs = $.param({ 
        name:$scope.nName, 
        phone:$scope.nPhone,
        email:$scope.nEmail,
        portfolio_url:$scope.nPortfolio });

        //url of rest-api responsible for making new ninja records using arguments:
        apiURL= "https://j1clone01-madnamespace.rhcloud.com/api/NinjaCTRL/make_ninja_record" + "?" + qs;
        
        //for debugging:
        $scope.apiCallUsed = apiURL;
        
        $http.get(apiURL).success(onResponded);

    }

    function onResponded(response){
      spinnerService.hide('html5spinner');
      
      $scope.has_a_ninja_been_made    = true;
      $scope.prev_ninja.name          = response.name;
      $scope.prev_ninja.email         = response.email;
      $scope.prev_ninja.phone         = response.phone;
      $scope.prev_ninja.portfolio_url = response.portfolio_url;
    }
    
    $scope.goto_home = function(){
        msg_for_user = "Redirecting...";
        $window.location = "admin_home.jsp";
    };//FUNC::END
    

});
</script>

</body>
</html>



