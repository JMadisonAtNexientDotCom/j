<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FIND USER STATS</title>
		
		<!-- ANGULAR JS -->
	  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		
		<!-- for async spinners. THEY WORK! -->
		<script src="../jsLib/node_modules/angular-spinners/src/spinner-service.js"></script>
		<script src="../jsLib/node_modules/angular-spinners/src/spinner-directive.js"></script>
		<script src="../jsLib/node_modules/angular-spinners/dist/angular-spinners.js"></script>
		
		<!-- BEFORE BOOTSTRAP INCLUDE: Bootstrap requiers JQuery Library.        -->
		<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
		<!-- Bootstrap: .js and .css respectively.                               -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" ></script>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
		
		<!-- Angular Materials Project. Makes UI asthetically pleasing. -->
		<!-- MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM -->
		<!-- Angular Material Dependencies -->
		<!-- include: angular.min.js -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>

		<!-- Angular Material Javascript now available via Google CDN; version 0.10 used here -->
		<script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"></script>

		<!-- Get some scroll bar action up in here! -->
		<script src="../jsLib/git_repo_3rd_party/ng_scrollable/ng-scrollable.min.js"></script>
		
		<!-- a better checkbox. Because angular checkboxes look horrible with bootstrap -->
		<script src="../jsLib/git_repo_3rd_party/angular-bootstrap-checkbox/angular-bootstrap-checkbox.js"></script>

		<!-- spinner animation for waiting after pressing button that -->
		<!-- results in an asynchronous call. AKA: Wait for something to load and -->
		<!-- let user know the UI is still responsive. -->
		<LINK REL="stylesheet" HREF="../jsLib/css/components/loading_spinner.css" TYPE="text/css">

		<!-- Angular Material CSS now available via Google CDN; version 0.10     -->
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css">
		<!-- MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM -->

<!-- style stuff for scrollbars! -->
<link rel="stylesheet" href="../jsLib/git_repo_3rd_party/ng_scrollable/ng-scrollable.min.css">

<!-- enable centering. -->
 <link href="../jsLib/css/layout/vertcen.css" rel="stylesheet">
 <link href="../jsLib/css/layout/horcen.css" rel="stylesheet">
 <link href="../jsLib/css/layout/bs_docs_example.css" rel="stylesheet">
 <link href="../jsLib/css/aesthetics/roundeddivs.css" rel="stylesheet">
		
		<!-- Inlined styles for criteria search controls. -->
		<style>
			#input_and_checkbox_outer{
				height:50px; 
				background:#0088ff;
			}
			
			#criteria_label_area{
				background:#44AAFF; 
				position:relative; 
				height:40%; 
				top:0px;
			}
			
			#criteria_controls_area{
				background:#88DDFF; 
				position:relative; 
				height:60%; 
				bottom:0px;
			}
			
			#criteria_checkbox{
				position:absolute; 
				top:13%; 
				left:8px;
			}
			
			#criteria_textbox{
				width:78%;
				float:right; 
				position:relative; 
				left:-5px; 
				top:2px;"
			}
		</style>
		
  </head>
<!-- AUTHOR: JMadison.  ON:20##.##.##_####AMPM                               -->
<!-- TABSIZE: 2 Spaces.                                                      -->
<!-- This header belongs BELOW the <head></head> declaration.                -->
<!--   10|       20|       30|       40|       50|       60|       70|       -->
<!--5678901234567890123456789012345678901234567890123456789012345678901234567-->

  <body>
    <div data-ng-app="myApp" data-ng-controller="myCtrl" data-ng-init="VI();" >
			<!-- Vertically + horizontally centered dialog -->
      <div class="horcen_parent" style="width:100%;height:100%;" > <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
      <div class="horcen_child"  style="width:750px;height:100%;" > <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
     
			<div id="main_centered_container" style="width:750px;height:100%;margin-left:0px;padding-top:10px; padding-bottom:10px;">
			
			  <div id="dummy_div_for_panel_SEARCH" 
				style="position:relative;width:200px;height:100%;float:left">
				
					<div id="shadowdiv_wireframe" data-ng-show="search_active==false;"
					style="width:100%;height:100%;position:absolute;z-index:102;">
						<div id="shadowdiv_headertab" align="center">
							<h2 style="color:#fff">?</h2>
						</div>
						
						<div id="shadowdiv_footertab" align="center"></div>
					</div>
					
					<div id="roundeddivs_wireframe" data-ng-show="search_active==true;"
					style="width:100%;height:100%;position:absolute;z-index:101;">
					
						<div id="roundeddivs_headertab" align="center">
							<h2 style="color:#fff">Search:</h2>
						</div>
						
						<div id="roundeddivs_inner_docked_box"  >
						<button data-ng-click="criteria_mode();" style="width:100%;">Criteria Search</button>
					  <button data-ng-click="chrono_mode();" style="width:100%;">Chronological Search</button>
						
							<div id="criteria_search_container" data-ng-show="criteria_search_active==true;"
							style="width:100%; 
							bottom:0; top:54px; position:absolute;" >
								
								<br>
								<b>Search Options:</b>
								
								<!-- //////////////////// NAME ///////////////////////////// -->
								<div id="input_and_checkbox_outer" >
									<div id="criteria_label_area">
										Name:
									</div>
									<div id="criteria_controls_area">
										<checkbox id="criteria_checkbox" 
												ng-model="checkboxModel"
												name="custom-name"              
												ng-true-value="TRUE_STRING;"       
												ng-false-value="FALSE_STRING"    
												ng-change="onChange()"         
										></checkbox>
										<input id="criteria_textbox" type="text" 
										data-ng-model="VVVVVVVVVV">
									</div>
								</div> <!-- input_and_checkbox_outer -->
								<!-- /////////////////////////////////////////////////////// -->
								<!-- //////////////////// PHONE //////////////////////////// -->
								<div id="input_and_checkbox_outer" >
									<div id="criteria_label_area">
										Phone:
									</div>
									<div id="criteria_controls_area">
										<checkbox id="criteria_checkbox" 
												ng-model="checkboxModel"
												name="custom-name"              
												ng-true-value="TRUE_STRING;"       
												ng-false-value="FALSE_STRING"    
												ng-change="onChange()"         
										></checkbox>
										<input id="criteria_textbox" type="text" 
										data-ng-model="VVVVVVVVVV">
									</div>
								</div> <!-- input_and_checkbox_outer -->
								<!-- /////////////////////////////////////////////////////// -->
								<!-- //////////////////// EMAIL //////////////////////////// -->
								<div id="input_and_checkbox_outer" >
									<div id="criteria_label_area">
										Email:
									</div>
									<div id="criteria_controls_area">
										<checkbox id="criteria_checkbox" 
												ng-model="checkboxModel"
												name="custom-name"              
												ng-true-value="TRUE_STRING;"       
												ng-false-value="FALSE_STRING"    
												ng-change="onChange()"         
										></checkbox>
										<input id="criteria_textbox" type="text" 
										data-ng-model="VVVVVVVVVV">
									</div>
								</div> <!-- input_and_checkbox_outer -->
								<!-- /////////////////////////////////////////////////////// -->
								<!-- //////////////////// Portfolio //////////////////////// -->
								<div id="input_and_checkbox_outer" >
									<div id="criteria_label_area">
										Portfolio Url:
									</div>
									<div id="criteria_controls_area">
										<checkbox id="criteria_checkbox" 
												ng-model="checkboxModel"
												name="custom-name"              
												ng-true-value="TRUE_STRING;"       
												ng-false-value="FALSE_STRING"    
												ng-change="onChange()"         
										></checkbox>
										<input id="criteria_textbox" type="text" 
										data-ng-model="VVVVVVVVVV">
									</div>
								</div> <!-- input_and_checkbox_outer -->
								<!-- /////////////////////////////////////////////////////// -->
								
								<button data-ng-click="update_search();" style="width:100%;">
								Update Search
								</button>
								{{update_search_please_wait_msg}}
								
							</div>
							
							<div id="chrono_search_container" data-ng-show="chrono_search_active==true;"
							style="color:000000; width:100%; 
							bottom:0; top:54px; position:absolute;" >
							  <p>
								<b>//TODO:</b> Work in progress. Use other button.
								</p>
							</div>
							
							<div id="helptext_search_container" data-ng-show="helptext_search_active==true;"
							style="color:#000000; width:100%; 
							bottom:0; top:54px; position:absolute;" >
							  <p>
								<b>To begin:</b>
								Choose how to search above.
								</p>
								
							</div>
						
						
						</div>
						
						<div id="roundeddivs_footertab" align="center"></div>
					</div>
					
				</div><!--dummy_div_for_panel_SEARCH-->
				
				<div id="dummy_div_for_panel_SELECT" 
				style="position:relative;width:150px;height:100%;float:left">
				
					<div id="shadowdiv_wireframe" data-ng-show="select_active==false;"
					style="width:100%;height:100%;position:absolute;z-index:102;">
						<div id="shadowdiv_headertab" align="center">
							<h2 style="color:#fff">?</h2>
						</div>
						<div id="shadowdiv_footertab" align="center"></div>
					</div>
					
					<div id="roundeddivs_wireframe" data-ng-show="select_active==true;"
					style="width:100%;height:100%;position:absolute;z-index:101;">
					  
						<div id="roundeddivs_headertab" align="center">
							<h2 style="color:#fff">Select:</h2>
						</div>
						
						<div id="roundeddivs_inner_docked_box"  >
						<select name="multipleSelect" data-ng-change="onListChange( data )"
						style="width:100%; height:100%;" 
						id="mulipass" ng-model="data.multipleSelect" multiple>
							<!-- This chunk repeats for each item in users collection          -->
							<!-- RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR -->
							 <option data-ng-repeat="ninja in instancedJSON_01.members" 
												value="{{ninja.name}}">{{ninja.name}}</option>
							<!-- RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR -->
						</select> <!-- form-group -->
						</div> <!-- Inner dock -->
						
						
						<div id="roundeddivs_footertab" align="center"></div>
					</div>
					
				</div><!--dummy_div_for_panel_SELECT-->
				
				<div id="dummy_div_for_panel_STATS" 
				style="position:relative;width:400px;height:100%;float:left">
				
					<div id="shadowdiv_wireframe" data-ng-show="stats_active==false;"
					style="width:100%;height:100%;position:absolute;z-index:102;">
						<div id="shadowdiv_headertab" align="center">
							<h2 style="color:#fff">?</h2>
						</div>
						<div id="shadowdiv_footertab" align="center"></div>
					</div>
					
					<div id="roundeddivs_wireframe" data-ng-show="stats_active==true;"
					style="width:100%;height:100%;position:absolute;z-index:101;">
						<div id="roundeddivs_headertab" align="center">
							<h2 style="color:#fff">Stats:</h2>
						</div>
						
						<p>
							TODO: Subdivide into two halves. Top + Bottom.
						</p>
						
						<p>
						The <b>top half</b> will be basic info about the candidate.
						</p>
						
						<p>
							The <b>bottom half </b> will be a table of all the tests they have
							taken with a summary. If a test needs GRADING, there will
							be an action-item button to click. A button to go into more
							detail will exist for each record.
						</p>
							
						<div id="roundeddivs_footertab" align="center"></div>
					</div>
					
				</div><!--dummy_div_for_panel_STATS-->
				
			</div> <!-- main_centered_container -->
  
      </div> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
      </div> <!-- CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC -->
		</div>
		<script>
		var app = angular.module('myApp', ['angularSpinners',"ui.checkbox"]);
		app.controller('myCtrl', function($scope, $http, spinnerService) {

			//variable initialization:
			$scope.VI = function(){
					$scope.msg_for_user = "Insert Token:";
					$scope.search_active = true; //PANEL #1, (left-most)
					$scope.select_active = false; //PANEL #2, (middle)
					$scope.stats_active  = false; //PANEL #3, (right-most)
					
					$scope.chrono_search_active   = false;
					$scope.criteria_search_active = false;
					$scope.helptext_search_active = true;
					
					$scope.update_search_please_wait_msg = ""; //starts invisible
					$scope.pageIndexWanted = 0;
					$scope.numResultsPerPage = 10;
			};
			
			//enable chronological search mode:
			$scope.chrono_mode = function(){
				//$scope.select_active = true;
				
				$scope.chrono_search_active   = true;
				$scope.criteria_search_active = false;
				$scope.helptext_search_active = false;
			};
			
			//enable criteria search mode:
			$scope.criteria_mode = function(){
				//$scope.select_active  = true;
				
				$scope.chrono_search_active   = false;
				$scope.criteria_search_active = true;
				$scope.helptext_search_active = false;
		  };
			
			//When user wants results to refresh:
			$scope.update_search = function(){
				$scope.callService();
			};
			
			//Loading of search results:
			//LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL//
			$scope.callService = function()
      {
			  $scope.update_search_please_wait_msg = "...Loading. Please Wait...";
        $scope.subpanel_phase = $scope.PLEASE_WAIT_LOADING_NINJA_LIST;
        $scope.ninja_page_title = "LOADING";
        
        //serviceURL = "https://j1clone01-madnamespace.rhcloud.com/api/NinjaRestService/get_page_of_ninjas?page_index=0&num_results_per_page=10";
        serviceURL = "https://j1clone01-madnamespace.rhcloud.com/api/NinjaCTRL/get_page_of_ninjas";

        //Build query string using J-QUERY:
        //SOURCE: http://stackoverflow.com/questions/316781/
        //                             how-to-build-query-string-with-javascript
        qs = "";
        qs = $.param({ 
        page_index:$scope.pageIndexWanted, 
        num_results_per_page:$scope.numResultsPerPage});

        //url of rest-api responsible for making new ninja records using arguments:
        apiURL= serviceURL + "?" + qs;

        $http.get(apiURL).success( onResponded );
      };//FUNC::END

      function onResponded(response){
			  $scope.update_search_please_wait_msg = "";
			  $scope.select_active  = true;
        $scope.instancedJSON_01 = response;
        $scope.ninja_page_title = response.displayName;
        $scope.subpanel_phase = $scope.SELECT_A_NINJA_PROMPT;
      };//FUNC::END
			//LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL//
			
			//Function execute when item is click on
      //from the multi-select ninja-selector.
      $scope.onListChange = function(){
				$scope.stats_active = true; //open up the RIGHT-MOST menu.
        console.log("onListChange() called!");
        $scope.subpanel_phase = $scope.ASSIGN_TRIAL_TOKEN_TO_NINJA;
      };//FUNC::END
			
			
		});//CONTROLLER::END
		</script>
		
  </body>
</html>
<!--   10|       20|       30|       40|       50|       60|       70|       -->
<!--5678901234567890123456789012345678901234567890123456789012345678901234567-->